# PTCG-Sim-Meta Cloudflare Pages Redirects Configuration
# Enhanced routing to handle various asset and module paths

# Static Asset Routing
/src/assets/*                 /src/assets/:splat                 200
/src/css/*                    /src/css/:splat                    200
/src/js/*                     /src/js/:splat                     200

# Module Path Redirects
/src/config/*                 /src/config/:splat                 200
/src/services/*               /src/services/:splat               200
/src/initialization/*         /src/initialization/:splat         200
/src/setup/*                  /src/setup/:splat                  200
/src/utils/*                  /src/utils/:splat                  200
/src/actions/*                /src/actions/:splat                200

# Specific Initialization Path Redirects
/src/initialization/socket-event-listeners/*  /src/initialization/socket-event-listeners/:splat  200
/src/initialization/global-variables/*        /src/initialization/global-variables/:splat        200
/src/initialization/config/*                 /src/initialization/config/:splat                  200
/src/initialization/document-event-listeners/* /src/initialization/document-event-listeners/:splat 200
/src/initialization/load-import-data/*       /src/initialization/load-import-data/:splat       200
/src/initialization/mutation-observers/*     /src/initialization/mutation-observers/:splat     200

# Handling Specific File Types
*.js                          /:path                            200
*.mjs                         /:path                            200
*.css                         /:path                            200
*.json                        /:path                            200

# Handle worker and external script paths
/workers/src/utils/*          /workers/src/utils/:splat          200
/workers/src/api/*            /workers/src/api/:splat            200
/workers/src/db/*             /workers/src/db/:splat             200
/workers/dist/*               /workers/dist/:splat               200

# External Library Handling
/cdn/*                        /cdn/:splat                        200

# Health Check and API Endpoints
/health                       /health                            200
/api/*                        /api/:splat                        200

# SPA Fallback - MUST BE THE LAST RULE
/*                            /index.html                        200