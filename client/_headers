# PTCG-Sim-Meta Cloudflare Pages Headers Configuration
# Enhanced configuration for improved asset serving and security

# Global security headers
/*
  X-Frame-Options: DENY
  X-Content-Type-Options: nosniff
  Referrer-Policy: strict-origin-when-cross-origin
  Permissions-Policy: camera=(), microphone=(), geolocation=()
  
  # More permissive Content Security Policy
  Content-Security-Policy: 
    default-src 'self' 
    https://cdn.socket.io 
    https://ptcg-sim-meta.jasonh1993.workers.dev 
    https://ptcg-sim-meta-dev.jasonh1993.workers.dev;
    script-src 'self' 'unsafe-inline' 'unsafe-eval' 
    https://cdn.socket.io 
    https://static.cloudflareinsights.com;
    style-src 'self' 'unsafe-inline';
    img-src 'self' data: https: http:;
    connect-src 'self' wss: https: ws:;
    font-src 'self' https:;
    object-src 'none';
    media-src 'self';
    frame-src 'self';
    worker-src 'self' blob:;

# MIME Type Specifications
# HTML files
*.html
  Content-Type: text/html; charset=utf-8

# JavaScript files
*.js
  Content-Type: application/javascript; charset=utf-8
  Cache-Control: public, max-age=3600, must-revalidate

# JavaScript module files
*.mjs
  Content-Type: application/javascript; charset=utf-8
  Cache-Control: public, max-age=3600, must-revalidate

# CSS files
*.css
  Content-Type: text/css; charset=utf-8
  Cache-Control: public, max-age=3600, must-revalidate

# JSON files
*.json
  Content-Type: application/json; charset=utf-8
  Cache-Control: public, max-age=600, must-revalidate

# Font files
*.woff
  Content-Type: font/woff
  Cache-Control: public, max-age=31536000, immutable

*.woff2
  Content-Type: font/woff2
  Cache-Control: public, max-age=31536000, immutable

# Image files
*.png
  Content-Type: image/png
  Cache-Control: public, max-age=3600, must-revalidate

*.jpg, *.jpeg
  Content-Type: image/jpeg
  Cache-Control: public, max-age=3600, must-revalidate

*.svg
  Content-Type: image/svg+xml
  Cache-Control: public, max-age=3600, must-revalidate

# Specific path handling
/index.html
  X-Robots-Tag: noindex
  Cache-Control: no-cache, no-store, must-revalidate

# Prevent indexing of certain paths
/src/initialization/*
  X-Robots-Tag: noindex, nofollow